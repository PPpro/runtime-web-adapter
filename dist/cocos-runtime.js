!function r(u,a,c){function f(t,e){if(!a[t]){if(!u[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(s)return s(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};u[t][0].call(i.exports,function(e){return f(u[t][1][e]||e)},i,i.exports,r,u,a,c)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)f(c[e]);return f}({1:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("onShow",r,jsb),i.default.exportTo("onHide",r,jsb),i.default.exportTo("offShow",r,jsb),i.default.exportTo("offHide",r,jsb)},{"../../util":18}],2:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("loadSubpackage",r,jsb)},{"../../util":18}],3:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("getSystemInfo",r,jsb),i.default.exportTo("getSystemInfoSync",r,jsb)},{"../../util":18}],4:[function(e,t,o){"use strict";function f(e){for(var t,o=0;o<d.length;o++)if(t=d[o],e.identifier===t.identifier)return o;return-1}function s(e,t){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}var n=loadRuntime(),d=[],l={touchstart:[],touchmove:[],touchend:[],touchcancel:[]};function i(e,t){for(var o=l[e]||[],n=o.length,i=0;i<n;++i)if(t===o[i])return void o.splice(i,1)}var h=!1,r=n.getSystemInfoSync();window.innerWidth&&r.windowWidth!==window.innerWidth&&(h=!0);function u(c){return function(e){if("function"!=typeof e){var o,t=new TouchEvent(c);"touchstart"===c?e.forEach(function(e){var t;0<=(o=f(e))?s(e,d[o]):(s(e,t={}),d.push(t))}):"touchmove"===c?e.forEach(function(e){0<=(o=f(e))&&s(e,d[o])}):"touchend"!==c&&"touchcancel"!==c||e.forEach(function(e){0<=(o=f(e))&&d.splice(o,1)});var i=[].concat(d),r=[];e.forEach(function(e){for(var t=i.length,o=0;o<t;++o){var n=i[o];if(e.identifier===n.identifier)return void r.push(n)}r.push(e)}),t.touches=i,t.targetTouches=i,t.changedTouches=r,h&&(i.forEach(function(e){e.clientX/=window.devicePixelRatio,e.clientY/=window.devicePixelRatio,e.pageX/=window.devicePixelRatio,e.pageY/=window.devicePixelRatio}),"touchcancel"!==c&&"touchend"!==c||r.forEach(function(e){e.clientX/=window.devicePixelRatio,e.clientY/=window.devicePixelRatio,e.pageX/=window.devicePixelRatio,e.pageY/=window.devicePixelRatio}));for(var n=l[c],u=n.length,a=0;a<u;a++)n[a](t)}else!function(e,t){for(var o=l[e],n=0,i=o.length;n<i;n++)if(t===o[n])return;o.push(t)}(c,e)}}n.onTouchStart?(jsb.onTouchStart=n.onTouchStart,jsb.offTouchStart=n.offTouchStart):(jsb.onTouchStart=u("touchstart"),jsb.offTouchStart=function(e){i("touchstart",e)}),n.onTouchMove?(jsb.onTouchMove=n.onTouchMove,jsb.offTouchMove=n.offTouchMove):(jsb.onTouchMove=u("touchmove"),jsb.offTouchMove=function(e){i("touchmove",e)}),n.onTouchCancel?(jsb.onTouchCancel=n.onTouchCancel,jsb.offTouchCancel=n.offTouchCancel):(jsb.onTouchCancel=u("touchcancel"),jsb.offTouchCancel=function(e){i("touchcancel",e)}),n.onTouchEnd?(jsb.onTouchEnd=n.onTouchEnd,jsb.offTouchEnd=n.offTouchEnd):(jsb.onTouchEnd=u("touchend"),jsb.offTouchEnd=function(e){i("touchend",e)})},{}],5:[function(e,t,o){"use strict";var n,i,r,u=loadRuntime(),a=u.getSystemInfoSync(),c=[];jsb.device=jsb.device||{},u.offAccelerometerChange?(n=[0,0,0],i=function(t){n[0]=.8*n[0]+(1-.8)*t.x,n[1]=.8*n[1]+(1-.8)*t.y,n[2]=.8*n[2]+(1-.8)*t.z,c.forEach(function(e){e({acceleration:{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]},accelerationIncludingGravity:{x:t.x,y:t.y,z:t.z}})})},r="android"===a.platform.toLowerCase()?function(e){e.x*=-10,e.y*=-10,e.z*=-10,i(e)}:function(e){e.x*=10,e.y*=10,e.z*=10,i(e)},jsb.onAccelerometerChange=function(e){if("function"==typeof e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return;c.push(e),0===t&&u.onAccelerometerChange(r)}},jsb.offAccelerometerChange=function(e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return c.splice(o,1),void(1===t&&u.offAccelerometerChange(r))},jsb.stopAccelerometer=u.stopAccelerometer.bind(u),jsb.startAccelerometer=u.startAccelerometer.bind(u),jsb.device.setMotionEnabled=function(e){e?u.startAccelerometer({type:"accelerationIncludingGravity"}):u.stopAccelerometer({})}):(jsb.onAccelerometerChange=function(e){if("function"==typeof e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return;c.push(e)}},jsb.offAccelerometerChange=function(e){for(var t=c.length,o=0;o<t;++o)if(e===c[o])return void c.splice(o,1)},jsb.device.dispatchDeviceMotionEvent=function(t){c.forEach(function(e){e(t)})},jsb.stopAccelerometer=function(){jsb.device.setMotionEnabled(!1)},jsb.startAccelerometer=function(){jsb.device.setMotionEnabled(!0)})},{}],6:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("getBatteryInfo",r,jsb),i.default.exportTo("getBatteryInfoSync",r,jsb)},{"../../util":18}],7:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("getFileSystemManager",r,jsb)},{"../../util":18}],8:[function(e,t,o){"use strict";e("./base/lifecycle"),e("./base/subpackage"),e("./base/system-info"),e("./base/touch-event"),e("./device/accelerometer"),e("./device/battery"),e("./file/file-system-manager"),e("./interface/keyboard"),e("./interface/window"),e("./media/audio"),e("./media/video"),e("./rendering/canvas"),e("./rendering/font"),e("./rendering/frame"),e("./rendering/image"),window.jsb||(window.jsb={})},{"./base/lifecycle":1,"./base/subpackage":2,"./base/system-info":3,"./base/touch-event":4,"./device/accelerometer":5,"./device/battery":6,"./file/file-system-manager":7,"./interface/keyboard":9,"./interface/window":10,"./media/audio":11,"./media/video":12,"./rendering/canvas":13,"./rendering/font":14,"./rendering/frame":15,"./rendering/image":16}],9:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("onKeyboardInput",r,jsb),i.default.exportTo("onKeyboardConfirm",r,jsb),i.default.exportTo("onKeyboardComplete",r,jsb),i.default.exportTo("offKeyboardInput",r,jsb),i.default.exportTo("offKeyboardConfirm",r,jsb),i.default.exportTo("offKeyboardComplete",r,jsb),i.default.exportTo("hideKeyboard",r,jsb),i.default.exportTo("showKeyboard",r,jsb),i.default.exportTo("updateKeyboard",r,jsb)},{"../../util":18}],10:[function(e,t,o){"use strict";var n=loadRuntime().onWindowResize;jsb.onWindowResize=function(t){n(function(e){t(e.width||e.windowWidth,e.height||e.windowHeight)})}},{}],11:[function(e,t,o){"use strict";var n=r(e("../../inner-context")),i=r(e("../../util"));function r(e){return e&&e.__esModule?e:{default:e}}var u=loadRuntime();i.default.exportTo("AudioEngine",u,jsb),i.default.exportTo("createInnerAudioContext",u,jsb,function(){u.AudioEngine&&(jsb.createInnerAudioContext=function(){return(0,n.default)(u.AudioEngine)})})},{"../../inner-context":17,"../../util":18}],12:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("createVideo",r,jsb)},{"../../util":18}],13:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("createCanvas",r,jsb,function(){document&&"function"==typeof document.createElement&&(jsb.createCanvas=function(){return document.createElement("canvas")})})},{"../../util":18}],14:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("loadFont",r,jsb)},{"../../util":18}],15:[function(e,t,o){"use strict";var n=loadRuntime();jsb.setPreferredFramesPerSecond?jsb.setPreferredFramesPerSecond=jsb.setPreferredFramesPerSecond.bind(jsb):n.setPreferredFramesPerSecond?jsb.setPreferredFramesPerSecond=n.setPreferredFramesPerSecond.bind(n):jsb.setPreferredFramesPerSecond=function(){console.error("The setPreferredFramesPerSecond is not define!")}},{}],16:[function(e,t,o){"use strict";var n,i=(n=e("../../util"))&&n.__esModule?n:{default:n};var r=loadRuntime();i.default.exportTo("loadImageData",r,jsb),i.default.exportTo("createImage",r,jsb,function(){document&&"function"==typeof document.createElement&&(jsb.createCanvas=function(){return document.createElement("image")})})},{"../../util":18}],17:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t){void 0===y&&(y=Object.assign({},t),Object.keys(t).forEach(function(e){"function"==typeof t[e]&&(t[e]=function(){return console.warn("AudioEngine."+e+" is deprecated"),y[e].apply(t,arguments)})}));return new T};function n(e,t,o){var n=j.get(e);if("function"!=typeof o||!n)return-1;for(var i=n[t]||[],r=0,u=i.length;r<u;++r)if(o===i[r])return i.splice(r,1),o.length+1;return 0}function i(e,t,o){var n=j.get(e);if("function"!=typeof o||!n)return-1;var i=n[t];if(i){for(var r=0,u=i.length;r<u;++r)if(o===i[r])return 0;i.push(o)}else i=n[t]=[o];return i.length}function r(e,t,o){var n=2<arguments.length&&void 0!==o?o:[],i=j.get(e);if(i)for(var r=i[t]||[],u=0,a=r.length;u<a;++u)r[u].apply(e,n)}var u="canplayCallbacks",a="endedCallbacks",c="errorCallbacks",f="pauseCallbacks",s="playCallbacks",d="seekedCallbacks",l="seekingCallbacks",h="stopCallbacks",b="timeUpdateCallbacks",p="waitingCallbacks",v=10003,m=-1,g={ERROR:-1,INITIALIZING:0,PLAYING:1,PAUSED:2},y=void 0,j=new WeakMap;function T(){this.startTime=0,this.autoplay=!1,j.set(this,{src:"",volume:1,loop:!1}),Object.defineProperty(this,"loop",{set:function(e){e=!!e;var t,o=j.get(this);o&&("number"==typeof(t=o.audioID)&&0<=t&&y.setLoop(t,e),o.loop=e)},get:function(){var e=j.get(this);return!!e&&e.loop}}),Object.defineProperty(this,"volume",{set:function(e){"number"==typeof e?e<0?e=0:1<e&&(e=1):e=1;var t,o=j.get(this);o&&("number"==typeof(t=o.audioID)&&0<=t&&y.setVolume(t,e),o.volume=e)},get:function(){var e=j.get(this);return e?e.volume:1}}),Object.defineProperty(this,"src",{set:function(e){var t,o,n=j.get(this);n&&(t=n.src,"string"==typeof(n.src=e)&&("number"==typeof(o=n.audioID)&&0<=o&&y.getState(o)===g.PAUSED&&t!==e&&(y.stop(o),n.audioID=-1),this.autoplay&&this.play()))},get:function(){var e=j.get(this);return e?e.src:""}}),Object.defineProperty(this,"duration",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getDuration(t)}return NaN},set:function(){}}),Object.defineProperty(this,"currentTime",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getCurrentTime(t)}return 0},set:function(){}}),Object.defineProperty(this,"paused",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getState(t)===g.PAUSED}return!0},set:function(){}}),Object.defineProperty(this,"buffered",{get:function(){var e=j.get(this);if(e){var t=e.audioID;if("number"==typeof t&&0<=t)return y.getBuffered(t)}return 0},set:function(){}})}var w=T.prototype;w.destroy=function(){var e,t=j.get(this);t&&("number"==typeof(e=t.audioID)&&0<=e&&(y.stop(e),t.audioID=-1,r(this,h)),t[u]=[],t[a]=[],t[c]=[],t[f]=[],t[s]=[],t[d]=[],t[l]=[],t[h]=[],t[b]=[],t[p]=[],clearInterval(t.intervalID))},w.play=function(){var e=j.get(this);if(e){var t,o=e.src,n=e.audioID;if("string"==typeof o&&""!==o){if("number"==typeof n&&0<=n){if(y.getState(n)===g.PAUSED)return y.resume(n),void r(this,s);y.stop(n),e.audioID=-1}-1!==(n=y.play(o,this.loop,this.volume))?(e.audioID=n,"number"==typeof this.startTime&&0<this.startTime&&y.setCurrentTime(n,this.startTime),r(this,p),t=this,y.setCanPlayCallback(n,function(){o===t.src&&(r(t,u),r(t,s))}),y.setWaitingCallback(n,function(){o===t.src&&r(t,p)}),y.setErrorCallback(n,function(){o===t.src&&(e.audioID=-1,r(t,c))}),y.setFinishCallback(n,function(){o===t.src&&(e.audioID=-1,r(t,a))})):r(this,c,[{errMsg:"unknown",errCode:m}])}else r(this,c,[{errMsg:"invalid src",errCode:v}])}},w.pause=function(){var e,t=j.get(this);!t||"number"==typeof(e=t.audioID)&&0<=e&&(y.pause(e),r(this,f))},w.seek=function(e){var t,o=j.get(this);o&&"number"==typeof e&&0<=e&&("number"==typeof(t=o.audioID)&&0<=t&&(y.setCurrentTime(t,e),r(this,l),r(this,d)))},w.stop=function(){var e,t=j.get(this);!t||"number"==typeof(e=t.audioID)&&0<=e&&(y.stop(e),t.audioID=-1,r(this,h))},w.offCanplay=function(e){n(this,u,e)},w.offEnded=function(e){n(this,a,e)},w.offError=function(e){n(this,c,e)},w.offPause=function(e){n(this,f,e)},w.offPlay=function(e){n(this,s,e)},w.offSeeked=function(e){n(this,d,e)},w.offSeeking=function(e){n(this,l,e)},w.offStop=function(e){n(this,h,e)},w.offTimeUpdate=function(e){1===n(this,b,e)&&clearInterval(j.get(this).intervalID)},w.offWaiting=function(e){n(this,p,e)},w.onCanplay=function(e){i(this,u,e)},w.onEnded=function(e){i(this,a,e)},w.onError=function(e){i(this,c,e)},w.onPause=function(e){i(this,f,e)},w.onPlay=function(e){i(this,s,e)},w.onSeeked=function(e){i(this,d,e)},w.onSeeking=function(e){i(this,"seekingCallbacks",e)},w.onStop=function(e){i(this,h,e)},w.onTimeUpdate=function(e){var t,o,n;1===i(this,b,e)&&(t=j.get(this),o=this,n=setInterval(function(){var e,t=j.get(o);t?"number"==typeof(e=t.audioID)&&0<=e&&y.getState(e)===g.PLAYING&&r(o,b):clearInterval(n)},500),t.intervalID=n)},w.onWaiting=function(e){i(this,p,e)}},{}],18:[function(e,t,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={exportTo:function(e,t,o,n){var i;"object"===r(t)&&"object"===r(o)?(i=t[e])?o[e]="function"==typeof i?i.bind(t):i:(o[e]=function(){return console.error(e+" is not support!"),{}},"function"==typeof n&&n()):console.warn("invalid exportTo: ",e)}};o.default=n},{}]},{},[8]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjb2Nvcy1ydW50aW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbiByKHUsYSxjKXtmdW5jdGlvbiBmKHQsZSl7aWYoIWFbdF0pe2lmKCF1W3RdKXt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFlJiZvKXJldHVybiBvKHQsITApO2lmKHMpcmV0dXJuIHModCwhMCk7dmFyIG49bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIit0K1wiJ1wiKTt0aHJvdyBuLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsbn12YXIgaT1hW3RdPXtleHBvcnRzOnt9fTt1W3RdWzBdLmNhbGwoaS5leHBvcnRzLGZ1bmN0aW9uKGUpe3JldHVybiBmKHVbdF1bMV1bZV18fGUpfSxpLGkuZXhwb3J0cyxyLHUsYSxjKX1yZXR1cm4gYVt0XS5leHBvcnRzfWZvcih2YXIgcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGU9MDtlPGMubGVuZ3RoO2UrKylmKGNbZV0pO3JldHVybiBmfSh7MTpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuLGk9KG49ZShcIi4uLy4uL3V0aWxcIikpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufTt2YXIgcj1sb2FkUnVudGltZSgpO2kuZGVmYXVsdC5leHBvcnRUbyhcIm9uU2hvd1wiLHIsanNiKSxpLmRlZmF1bHQuZXhwb3J0VG8oXCJvbkhpZGVcIixyLGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwib2ZmU2hvd1wiLHIsanNiKSxpLmRlZmF1bHQuZXhwb3J0VG8oXCJvZmZIaWRlXCIscixqc2IpfSx7XCIuLi8uLi91dGlsXCI6MTh9XSwyOltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saT0obj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3ZhciByPWxvYWRSdW50aW1lKCk7aS5kZWZhdWx0LmV4cG9ydFRvKFwibG9hZFN1YnBhY2thZ2VcIixyLGpzYil9LHtcIi4uLy4uL3V0aWxcIjoxOH1dLDM6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIHI9bG9hZFJ1bnRpbWUoKTtpLmRlZmF1bHQuZXhwb3J0VG8oXCJnZXRTeXN0ZW1JbmZvXCIscixqc2IpLGkuZGVmYXVsdC5leHBvcnRUbyhcImdldFN5c3RlbUluZm9TeW5jXCIscixqc2IpfSx7XCIuLi8uLi91dGlsXCI6MTh9XSw0OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZihlKXtmb3IodmFyIHQsbz0wO288ZC5sZW5ndGg7bysrKWlmKHQ9ZFtvXSxlLmlkZW50aWZpZXI9PT10LmlkZW50aWZpZXIpcmV0dXJuIG87cmV0dXJuLTF9ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbyBpbiBlKWUuaGFzT3duUHJvcGVydHkobykmJih0W29dPWVbb10pfXZhciBuPWxvYWRSdW50aW1lKCksZD1bXSxsPXt0b3VjaHN0YXJ0OltdLHRvdWNobW92ZTpbXSx0b3VjaGVuZDpbXSx0b3VjaGNhbmNlbDpbXX07ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbz1sW2VdfHxbXSxuPW8ubGVuZ3RoLGk9MDtpPG47KytpKWlmKHQ9PT1vW2ldKXJldHVybiB2b2lkIG8uc3BsaWNlKGksMSl9dmFyIGg9ITEscj1uLmdldFN5c3RlbUluZm9TeW5jKCk7d2luZG93LmlubmVyV2lkdGgmJnIud2luZG93V2lkdGghPT13aW5kb3cuaW5uZXJXaWR0aCYmKGg9ITApO2Z1bmN0aW9uIHUoYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpe3ZhciBvLHQ9bmV3IFRvdWNoRXZlbnQoYyk7XCJ0b3VjaHN0YXJ0XCI9PT1jP2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDswPD0obz1mKGUpKT9zKGUsZFtvXSk6KHMoZSx0PXt9KSxkLnB1c2godCkpfSk6XCJ0b3VjaG1vdmVcIj09PWM/ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpezA8PShvPWYoZSkpJiZzKGUsZFtvXSl9KTpcInRvdWNoZW5kXCIhPT1jJiZcInRvdWNoY2FuY2VsXCIhPT1jfHxlLmZvckVhY2goZnVuY3Rpb24oZSl7MDw9KG89ZihlKSkmJmQuc3BsaWNlKG8sMSl9KTt2YXIgaT1bXS5jb25jYXQoZCkscj1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWkubGVuZ3RoLG89MDtvPHQ7KytvKXt2YXIgbj1pW29dO2lmKGUuaWRlbnRpZmllcj09PW4uaWRlbnRpZmllcilyZXR1cm4gdm9pZCByLnB1c2gobil9ci5wdXNoKGUpfSksdC50b3VjaGVzPWksdC50YXJnZXRUb3VjaGVzPWksdC5jaGFuZ2VkVG91Y2hlcz1yLGgmJihpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jbGllbnRYLz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxlLmNsaWVudFkvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLGUucGFnZVgvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLGUucGFnZVkvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfSksXCJ0b3VjaGNhbmNlbFwiIT09YyYmXCJ0b3VjaGVuZFwiIT09Y3x8ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2xpZW50WC89d2luZG93LmRldmljZVBpeGVsUmF0aW8sZS5jbGllbnRZLz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxlLnBhZ2VYLz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxlLnBhZ2VZLz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb30pKTtmb3IodmFyIG49bFtjXSx1PW4ubGVuZ3RoLGE9MDthPHU7YSsrKW5bYV0odCl9ZWxzZSFmdW5jdGlvbihlLHQpe2Zvcih2YXIgbz1sW2VdLG49MCxpPW8ubGVuZ3RoO248aTtuKyspaWYodD09PW9bbl0pcmV0dXJuO28ucHVzaCh0KX0oYyxlKX19bi5vblRvdWNoU3RhcnQ/KGpzYi5vblRvdWNoU3RhcnQ9bi5vblRvdWNoU3RhcnQsanNiLm9mZlRvdWNoU3RhcnQ9bi5vZmZUb3VjaFN0YXJ0KTooanNiLm9uVG91Y2hTdGFydD11KFwidG91Y2hzdGFydFwiKSxqc2Iub2ZmVG91Y2hTdGFydD1mdW5jdGlvbihlKXtpKFwidG91Y2hzdGFydFwiLGUpfSksbi5vblRvdWNoTW92ZT8oanNiLm9uVG91Y2hNb3ZlPW4ub25Ub3VjaE1vdmUsanNiLm9mZlRvdWNoTW92ZT1uLm9mZlRvdWNoTW92ZSk6KGpzYi5vblRvdWNoTW92ZT11KFwidG91Y2htb3ZlXCIpLGpzYi5vZmZUb3VjaE1vdmU9ZnVuY3Rpb24oZSl7aShcInRvdWNobW92ZVwiLGUpfSksbi5vblRvdWNoQ2FuY2VsPyhqc2Iub25Ub3VjaENhbmNlbD1uLm9uVG91Y2hDYW5jZWwsanNiLm9mZlRvdWNoQ2FuY2VsPW4ub2ZmVG91Y2hDYW5jZWwpOihqc2Iub25Ub3VjaENhbmNlbD11KFwidG91Y2hjYW5jZWxcIiksanNiLm9mZlRvdWNoQ2FuY2VsPWZ1bmN0aW9uKGUpe2koXCJ0b3VjaGNhbmNlbFwiLGUpfSksbi5vblRvdWNoRW5kPyhqc2Iub25Ub3VjaEVuZD1uLm9uVG91Y2hFbmQsanNiLm9mZlRvdWNoRW5kPW4ub2ZmVG91Y2hFbmQpOihqc2Iub25Ub3VjaEVuZD11KFwidG91Y2hlbmRcIiksanNiLm9mZlRvdWNoRW5kPWZ1bmN0aW9uKGUpe2koXCJ0b3VjaGVuZFwiLGUpfSl9LHt9XSw1OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saSxyLHU9bG9hZFJ1bnRpbWUoKSxhPXUuZ2V0U3lzdGVtSW5mb1N5bmMoKSxjPVtdO2pzYi5kZXZpY2U9anNiLmRldmljZXx8e30sdS5vZmZBY2NlbGVyb21ldGVyQ2hhbmdlPyhuPVswLDAsMF0saT1mdW5jdGlvbih0KXtuWzBdPS44Km5bMF0rKDEtLjgpKnQueCxuWzFdPS44Km5bMV0rKDEtLjgpKnQueSxuWzJdPS44Km5bMl0rKDEtLjgpKnQueixjLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh7YWNjZWxlcmF0aW9uOnt4OnQueC1uWzBdLHk6dC55LW5bMV0sejp0LnotblsyXX0sYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eTp7eDp0LngseTp0Lnksejp0Lnp9fSl9KX0scj1cImFuZHJvaWRcIj09PWEucGxhdGZvcm0udG9Mb3dlckNhc2UoKT9mdW5jdGlvbihlKXtlLngqPS0xMCxlLnkqPS0xMCxlLnoqPS0xMCxpKGUpfTpmdW5jdGlvbihlKXtlLngqPTEwLGUueSo9MTAsZS56Kj0xMCxpKGUpfSxqc2Iub25BY2NlbGVyb21ldGVyQ2hhbmdlPWZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe2Zvcih2YXIgdD1jLmxlbmd0aCxvPTA7bzx0OysrbylpZihlPT09Y1tvXSlyZXR1cm47Yy5wdXNoKGUpLDA9PT10JiZ1Lm9uQWNjZWxlcm9tZXRlckNoYW5nZShyKX19LGpzYi5vZmZBY2NlbGVyb21ldGVyQ2hhbmdlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1jLmxlbmd0aCxvPTA7bzx0OysrbylpZihlPT09Y1tvXSlyZXR1cm4gYy5zcGxpY2UobywxKSx2b2lkKDE9PT10JiZ1Lm9mZkFjY2VsZXJvbWV0ZXJDaGFuZ2UocikpfSxqc2Iuc3RvcEFjY2VsZXJvbWV0ZXI9dS5zdG9wQWNjZWxlcm9tZXRlci5iaW5kKHUpLGpzYi5zdGFydEFjY2VsZXJvbWV0ZXI9dS5zdGFydEFjY2VsZXJvbWV0ZXIuYmluZCh1KSxqc2IuZGV2aWNlLnNldE1vdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oZSl7ZT91LnN0YXJ0QWNjZWxlcm9tZXRlcih7dHlwZTpcImFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHlcIn0pOnUuc3RvcEFjY2VsZXJvbWV0ZXIoe30pfSk6KGpzYi5vbkFjY2VsZXJvbWV0ZXJDaGFuZ2U9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7Zm9yKHZhciB0PWMubGVuZ3RoLG89MDtvPHQ7KytvKWlmKGU9PT1jW29dKXJldHVybjtjLnB1c2goZSl9fSxqc2Iub2ZmQWNjZWxlcm9tZXRlckNoYW5nZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9Yy5sZW5ndGgsbz0wO288dDsrK28paWYoZT09PWNbb10pcmV0dXJuIHZvaWQgYy5zcGxpY2UobywxKX0sanNiLmRldmljZS5kaXNwYXRjaERldmljZU1vdGlvbkV2ZW50PWZ1bmN0aW9uKHQpe2MuZm9yRWFjaChmdW5jdGlvbihlKXtlKHQpfSl9LGpzYi5zdG9wQWNjZWxlcm9tZXRlcj1mdW5jdGlvbigpe2pzYi5kZXZpY2Uuc2V0TW90aW9uRW5hYmxlZCghMSl9LGpzYi5zdGFydEFjY2VsZXJvbWV0ZXI9ZnVuY3Rpb24oKXtqc2IuZGV2aWNlLnNldE1vdGlvbkVuYWJsZWQoITApfSl9LHt9XSw2OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saT0obj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3ZhciByPWxvYWRSdW50aW1lKCk7aS5kZWZhdWx0LmV4cG9ydFRvKFwiZ2V0QmF0dGVyeUluZm9cIixyLGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwiZ2V0QmF0dGVyeUluZm9TeW5jXCIscixqc2IpfSx7XCIuLi8uLi91dGlsXCI6MTh9XSw3OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saT0obj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3ZhciByPWxvYWRSdW50aW1lKCk7aS5kZWZhdWx0LmV4cG9ydFRvKFwiZ2V0RmlsZVN5c3RlbU1hbmFnZXJcIixyLGpzYil9LHtcIi4uLy4uL3V0aWxcIjoxOH1dLDg6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjtlKFwiLi9iYXNlL2xpZmVjeWNsZVwiKSxlKFwiLi9iYXNlL3N1YnBhY2thZ2VcIiksZShcIi4vYmFzZS9zeXN0ZW0taW5mb1wiKSxlKFwiLi9iYXNlL3RvdWNoLWV2ZW50XCIpLGUoXCIuL2RldmljZS9hY2NlbGVyb21ldGVyXCIpLGUoXCIuL2RldmljZS9iYXR0ZXJ5XCIpLGUoXCIuL2ZpbGUvZmlsZS1zeXN0ZW0tbWFuYWdlclwiKSxlKFwiLi9pbnRlcmZhY2Uva2V5Ym9hcmRcIiksZShcIi4vaW50ZXJmYWNlL3dpbmRvd1wiKSxlKFwiLi9tZWRpYS9hdWRpb1wiKSxlKFwiLi9tZWRpYS92aWRlb1wiKSxlKFwiLi9yZW5kZXJpbmcvY2FudmFzXCIpLGUoXCIuL3JlbmRlcmluZy9mb250XCIpLGUoXCIuL3JlbmRlcmluZy9mcmFtZVwiKSxlKFwiLi9yZW5kZXJpbmcvaW1hZ2VcIiksd2luZG93LmpzYnx8KHdpbmRvdy5qc2I9e30pfSx7XCIuL2Jhc2UvbGlmZWN5Y2xlXCI6MSxcIi4vYmFzZS9zdWJwYWNrYWdlXCI6MixcIi4vYmFzZS9zeXN0ZW0taW5mb1wiOjMsXCIuL2Jhc2UvdG91Y2gtZXZlbnRcIjo0LFwiLi9kZXZpY2UvYWNjZWxlcm9tZXRlclwiOjUsXCIuL2RldmljZS9iYXR0ZXJ5XCI6NixcIi4vZmlsZS9maWxlLXN5c3RlbS1tYW5hZ2VyXCI6NyxcIi4vaW50ZXJmYWNlL2tleWJvYXJkXCI6OSxcIi4vaW50ZXJmYWNlL3dpbmRvd1wiOjEwLFwiLi9tZWRpYS9hdWRpb1wiOjExLFwiLi9tZWRpYS92aWRlb1wiOjEyLFwiLi9yZW5kZXJpbmcvY2FudmFzXCI6MTMsXCIuL3JlbmRlcmluZy9mb250XCI6MTQsXCIuL3JlbmRlcmluZy9mcmFtZVwiOjE1LFwiLi9yZW5kZXJpbmcvaW1hZ2VcIjoxNn1dLDk6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIHI9bG9hZFJ1bnRpbWUoKTtpLmRlZmF1bHQuZXhwb3J0VG8oXCJvbktleWJvYXJkSW5wdXRcIixyLGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwib25LZXlib2FyZENvbmZpcm1cIixyLGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwib25LZXlib2FyZENvbXBsZXRlXCIscixqc2IpLGkuZGVmYXVsdC5leHBvcnRUbyhcIm9mZktleWJvYXJkSW5wdXRcIixyLGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwib2ZmS2V5Ym9hcmRDb25maXJtXCIscixqc2IpLGkuZGVmYXVsdC5leHBvcnRUbyhcIm9mZktleWJvYXJkQ29tcGxldGVcIixyLGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwiaGlkZUtleWJvYXJkXCIscixqc2IpLGkuZGVmYXVsdC5leHBvcnRUbyhcInNob3dLZXlib2FyZFwiLHIsanNiKSxpLmRlZmF1bHQuZXhwb3J0VG8oXCJ1cGRhdGVLZXlib2FyZFwiLHIsanNiKX0se1wiLi4vLi4vdXRpbFwiOjE4fV0sMTA6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1sb2FkUnVudGltZSgpLm9uV2luZG93UmVzaXplO2pzYi5vbldpbmRvd1Jlc2l6ZT1mdW5jdGlvbih0KXtuKGZ1bmN0aW9uKGUpe3QoZS53aWR0aHx8ZS53aW5kb3dXaWR0aCxlLmhlaWdodHx8ZS53aW5kb3dIZWlnaHQpfSl9fSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKGUoXCIuLi8uLi9pbm5lci1jb250ZXh0XCIpKSxpPXIoZShcIi4uLy4uL3V0aWxcIikpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB1PWxvYWRSdW50aW1lKCk7aS5kZWZhdWx0LmV4cG9ydFRvKFwiQXVkaW9FbmdpbmVcIix1LGpzYiksaS5kZWZhdWx0LmV4cG9ydFRvKFwiY3JlYXRlSW5uZXJBdWRpb0NvbnRleHRcIix1LGpzYixmdW5jdGlvbigpe3UuQXVkaW9FbmdpbmUmJihqc2IuY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4oMCxuLmRlZmF1bHQpKHUuQXVkaW9FbmdpbmUpfSl9KX0se1wiLi4vLi4vaW5uZXItY29udGV4dFwiOjE3LFwiLi4vLi4vdXRpbFwiOjE4fV0sMTI6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIHI9bG9hZFJ1bnRpbWUoKTtpLmRlZmF1bHQuZXhwb3J0VG8oXCJjcmVhdGVWaWRlb1wiLHIsanNiKX0se1wiLi4vLi4vdXRpbFwiOjE4fV0sMTM6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIHI9bG9hZFJ1bnRpbWUoKTtpLmRlZmF1bHQuZXhwb3J0VG8oXCJjcmVhdGVDYW52YXNcIixyLGpzYixmdW5jdGlvbigpe2RvY3VtZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50JiYoanNiLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpfSl9KX0se1wiLi4vLi4vdXRpbFwiOjE4fV0sMTQ6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIHI9bG9hZFJ1bnRpbWUoKTtpLmRlZmF1bHQuZXhwb3J0VG8oXCJsb2FkRm9udFwiLHIsanNiKX0se1wiLi4vLi4vdXRpbFwiOjE4fV0sMTU6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1sb2FkUnVudGltZSgpO2pzYi5zZXRQcmVmZXJyZWRGcmFtZXNQZXJTZWNvbmQ/anNiLnNldFByZWZlcnJlZEZyYW1lc1BlclNlY29uZD1qc2Iuc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kLmJpbmQoanNiKTpuLnNldFByZWZlcnJlZEZyYW1lc1BlclNlY29uZD9qc2Iuc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kPW4uc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kLmJpbmQobik6anNiLnNldFByZWZlcnJlZEZyYW1lc1BlclNlY29uZD1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUaGUgc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kIGlzIG5vdCBkZWZpbmUhXCIpfX0se31dLDE2OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saT0obj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3ZhciByPWxvYWRSdW50aW1lKCk7aS5kZWZhdWx0LmV4cG9ydFRvKFwibG9hZEltYWdlRGF0YVwiLHIsanNiKSxpLmRlZmF1bHQuZXhwb3J0VG8oXCJjcmVhdGVJbWFnZVwiLHIsanNiLGZ1bmN0aW9uKCl7ZG9jdW1lbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQmJihqc2IuY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWFnZVwiKX0pfSl9LHtcIi4uLy4uL3V0aWxcIjoxOH1dLDE3OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksby5kZWZhdWx0PWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXkmJih5PU9iamVjdC5hc3NpZ24oe30sdCksT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdJiYodFtlXT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJBdWRpb0VuZ2luZS5cIitlK1wiIGlzIGRlcHJlY2F0ZWRcIikseVtlXS5hcHBseSh0LGFyZ3VtZW50cyl9KX0pKTtyZXR1cm4gbmV3IFR9O2Z1bmN0aW9uIG4oZSx0LG8pe3ZhciBuPWouZ2V0KGUpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG98fCFuKXJldHVybi0xO2Zvcih2YXIgaT1uW3RdfHxbXSxyPTAsdT1pLmxlbmd0aDtyPHU7KytyKWlmKG89PT1pW3JdKXJldHVybiBpLnNwbGljZShyLDEpLG8ubGVuZ3RoKzE7cmV0dXJuIDB9ZnVuY3Rpb24gaShlLHQsbyl7dmFyIG49ai5nZXQoZSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygb3x8IW4pcmV0dXJuLTE7dmFyIGk9blt0XTtpZihpKXtmb3IodmFyIHI9MCx1PWkubGVuZ3RoO3I8dTsrK3IpaWYobz09PWlbcl0pcmV0dXJuIDA7aS5wdXNoKG8pfWVsc2UgaT1uW3RdPVtvXTtyZXR1cm4gaS5sZW5ndGh9ZnVuY3Rpb24gcihlLHQsbyl7dmFyIG49Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1vP286W10saT1qLmdldChlKTtpZihpKWZvcih2YXIgcj1pW3RdfHxbXSx1PTAsYT1yLmxlbmd0aDt1PGE7Kyt1KXJbdV0uYXBwbHkoZSxuKX12YXIgdT1cImNhbnBsYXlDYWxsYmFja3NcIixhPVwiZW5kZWRDYWxsYmFja3NcIixjPVwiZXJyb3JDYWxsYmFja3NcIixmPVwicGF1c2VDYWxsYmFja3NcIixzPVwicGxheUNhbGxiYWNrc1wiLGQ9XCJzZWVrZWRDYWxsYmFja3NcIixsPVwic2Vla2luZ0NhbGxiYWNrc1wiLGg9XCJzdG9wQ2FsbGJhY2tzXCIsYj1cInRpbWVVcGRhdGVDYWxsYmFja3NcIixwPVwid2FpdGluZ0NhbGxiYWNrc1wiLHY9MTAwMDMsbT0tMSxnPXtFUlJPUjotMSxJTklUSUFMSVpJTkc6MCxQTEFZSU5HOjEsUEFVU0VEOjJ9LHk9dm9pZCAwLGo9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gVCgpe3RoaXMuc3RhcnRUaW1lPTAsdGhpcy5hdXRvcGxheT0hMSxqLnNldCh0aGlzLHtzcmM6XCJcIix2b2x1bWU6MSxsb29wOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsb29wXCIse3NldDpmdW5jdGlvbihlKXtlPSEhZTt2YXIgdCxvPWouZ2V0KHRoaXMpO28mJihcIm51bWJlclwiPT10eXBlb2YodD1vLmF1ZGlvSUQpJiYwPD10JiZ5LnNldExvb3AodCxlKSxvLmxvb3A9ZSl9LGdldDpmdW5jdGlvbigpe3ZhciBlPWouZ2V0KHRoaXMpO3JldHVybiEhZSYmZS5sb29wfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidm9sdW1lXCIse3NldDpmdW5jdGlvbihlKXtcIm51bWJlclwiPT10eXBlb2YgZT9lPDA/ZT0wOjE8ZSYmKGU9MSk6ZT0xO3ZhciB0LG89ai5nZXQodGhpcyk7byYmKFwibnVtYmVyXCI9PXR5cGVvZih0PW8uYXVkaW9JRCkmJjA8PXQmJnkuc2V0Vm9sdW1lKHQsZSksby52b2x1bWU9ZSl9LGdldDpmdW5jdGlvbigpe3ZhciBlPWouZ2V0KHRoaXMpO3JldHVybiBlP2Uudm9sdW1lOjF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzcmNcIix7c2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG8sbj1qLmdldCh0aGlzKTtuJiYodD1uLnNyYyxcInN0cmluZ1wiPT10eXBlb2Yobi5zcmM9ZSkmJihcIm51bWJlclwiPT10eXBlb2Yobz1uLmF1ZGlvSUQpJiYwPD1vJiZ5LmdldFN0YXRlKG8pPT09Zy5QQVVTRUQmJnQhPT1lJiYoeS5zdG9wKG8pLG4uYXVkaW9JRD0tMSksdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCkpKX0sZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9ai5nZXQodGhpcyk7cmV0dXJuIGU/ZS5zcmM6XCJcIn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPWouZ2V0KHRoaXMpO2lmKGUpe3ZhciB0PWUuYXVkaW9JRDtpZihcIm51bWJlclwiPT10eXBlb2YgdCYmMDw9dClyZXR1cm4geS5nZXREdXJhdGlvbih0KX1yZXR1cm4gTmFOfSxzZXQ6ZnVuY3Rpb24oKXt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjdXJyZW50VGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1qLmdldCh0aGlzKTtpZihlKXt2YXIgdD1lLmF1ZGlvSUQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJjA8PXQpcmV0dXJuIHkuZ2V0Q3VycmVudFRpbWUodCl9cmV0dXJuIDB9LHNldDpmdW5jdGlvbigpe319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhdXNlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1qLmdldCh0aGlzKTtpZihlKXt2YXIgdD1lLmF1ZGlvSUQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJjA8PXQpcmV0dXJuIHkuZ2V0U3RhdGUodCk9PT1nLlBBVVNFRH1yZXR1cm4hMH0sc2V0OmZ1bmN0aW9uKCl7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiYnVmZmVyZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9ai5nZXQodGhpcyk7aWYoZSl7dmFyIHQ9ZS5hdWRpb0lEO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYwPD10KXJldHVybiB5LmdldEJ1ZmZlcmVkKHQpfXJldHVybiAwfSxzZXQ6ZnVuY3Rpb24oKXt9fSl9dmFyIHc9VC5wcm90b3R5cGU7dy5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGUsdD1qLmdldCh0aGlzKTt0JiYoXCJudW1iZXJcIj09dHlwZW9mKGU9dC5hdWRpb0lEKSYmMDw9ZSYmKHkuc3RvcChlKSx0LmF1ZGlvSUQ9LTEscih0aGlzLGgpKSx0W3VdPVtdLHRbYV09W10sdFtjXT1bXSx0W2ZdPVtdLHRbc109W10sdFtkXT1bXSx0W2xdPVtdLHRbaF09W10sdFtiXT1bXSx0W3BdPVtdLGNsZWFySW50ZXJ2YWwodC5pbnRlcnZhbElEKSl9LHcucGxheT1mdW5jdGlvbigpe3ZhciBlPWouZ2V0KHRoaXMpO2lmKGUpe3ZhciB0LG89ZS5zcmMsbj1lLmF1ZGlvSUQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8mJlwiXCIhPT1vKXtpZihcIm51bWJlclwiPT10eXBlb2YgbiYmMDw9bil7aWYoeS5nZXRTdGF0ZShuKT09PWcuUEFVU0VEKXJldHVybiB5LnJlc3VtZShuKSx2b2lkIHIodGhpcyxzKTt5LnN0b3AobiksZS5hdWRpb0lEPS0xfS0xIT09KG49eS5wbGF5KG8sdGhpcy5sb29wLHRoaXMudm9sdW1lKSk/KGUuYXVkaW9JRD1uLFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLnN0YXJ0VGltZSYmMDx0aGlzLnN0YXJ0VGltZSYmeS5zZXRDdXJyZW50VGltZShuLHRoaXMuc3RhcnRUaW1lKSxyKHRoaXMscCksdD10aGlzLHkuc2V0Q2FuUGxheUNhbGxiYWNrKG4sZnVuY3Rpb24oKXtvPT09dC5zcmMmJihyKHQsdSkscih0LHMpKX0pLHkuc2V0V2FpdGluZ0NhbGxiYWNrKG4sZnVuY3Rpb24oKXtvPT09dC5zcmMmJnIodCxwKX0pLHkuc2V0RXJyb3JDYWxsYmFjayhuLGZ1bmN0aW9uKCl7bz09PXQuc3JjJiYoZS5hdWRpb0lEPS0xLHIodCxjKSl9KSx5LnNldEZpbmlzaENhbGxiYWNrKG4sZnVuY3Rpb24oKXtvPT09dC5zcmMmJihlLmF1ZGlvSUQ9LTEscih0LGEpKX0pKTpyKHRoaXMsYyxbe2Vyck1zZzpcInVua25vd25cIixlcnJDb2RlOm19XSl9ZWxzZSByKHRoaXMsYyxbe2Vyck1zZzpcImludmFsaWQgc3JjXCIsZXJyQ29kZTp2fV0pfX0sdy5wYXVzZT1mdW5jdGlvbigpe3ZhciBlLHQ9ai5nZXQodGhpcyk7IXR8fFwibnVtYmVyXCI9PXR5cGVvZihlPXQuYXVkaW9JRCkmJjA8PWUmJih5LnBhdXNlKGUpLHIodGhpcyxmKSl9LHcuc2Vlaz1mdW5jdGlvbihlKXt2YXIgdCxvPWouZ2V0KHRoaXMpO28mJlwibnVtYmVyXCI9PXR5cGVvZiBlJiYwPD1lJiYoXCJudW1iZXJcIj09dHlwZW9mKHQ9by5hdWRpb0lEKSYmMDw9dCYmKHkuc2V0Q3VycmVudFRpbWUodCxlKSxyKHRoaXMsbCkscih0aGlzLGQpKSl9LHcuc3RvcD1mdW5jdGlvbigpe3ZhciBlLHQ9ai5nZXQodGhpcyk7IXR8fFwibnVtYmVyXCI9PXR5cGVvZihlPXQuYXVkaW9JRCkmJjA8PWUmJih5LnN0b3AoZSksdC5hdWRpb0lEPS0xLHIodGhpcyxoKSl9LHcub2ZmQ2FucGxheT1mdW5jdGlvbihlKXtuKHRoaXMsdSxlKX0sdy5vZmZFbmRlZD1mdW5jdGlvbihlKXtuKHRoaXMsYSxlKX0sdy5vZmZFcnJvcj1mdW5jdGlvbihlKXtuKHRoaXMsYyxlKX0sdy5vZmZQYXVzZT1mdW5jdGlvbihlKXtuKHRoaXMsZixlKX0sdy5vZmZQbGF5PWZ1bmN0aW9uKGUpe24odGhpcyxzLGUpfSx3Lm9mZlNlZWtlZD1mdW5jdGlvbihlKXtuKHRoaXMsZCxlKX0sdy5vZmZTZWVraW5nPWZ1bmN0aW9uKGUpe24odGhpcyxsLGUpfSx3Lm9mZlN0b3A9ZnVuY3Rpb24oZSl7bih0aGlzLGgsZSl9LHcub2ZmVGltZVVwZGF0ZT1mdW5jdGlvbihlKXsxPT09bih0aGlzLGIsZSkmJmNsZWFySW50ZXJ2YWwoai5nZXQodGhpcykuaW50ZXJ2YWxJRCl9LHcub2ZmV2FpdGluZz1mdW5jdGlvbihlKXtuKHRoaXMscCxlKX0sdy5vbkNhbnBsYXk9ZnVuY3Rpb24oZSl7aSh0aGlzLHUsZSl9LHcub25FbmRlZD1mdW5jdGlvbihlKXtpKHRoaXMsYSxlKX0sdy5vbkVycm9yPWZ1bmN0aW9uKGUpe2kodGhpcyxjLGUpfSx3Lm9uUGF1c2U9ZnVuY3Rpb24oZSl7aSh0aGlzLGYsZSl9LHcub25QbGF5PWZ1bmN0aW9uKGUpe2kodGhpcyxzLGUpfSx3Lm9uU2Vla2VkPWZ1bmN0aW9uKGUpe2kodGhpcyxkLGUpfSx3Lm9uU2Vla2luZz1mdW5jdGlvbihlKXtpKHRoaXMsXCJzZWVraW5nQ2FsbGJhY2tzXCIsZSl9LHcub25TdG9wPWZ1bmN0aW9uKGUpe2kodGhpcyxoLGUpfSx3Lm9uVGltZVVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdCxvLG47MT09PWkodGhpcyxiLGUpJiYodD1qLmdldCh0aGlzKSxvPXRoaXMsbj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciBlLHQ9ai5nZXQobyk7dD9cIm51bWJlclwiPT10eXBlb2YoZT10LmF1ZGlvSUQpJiYwPD1lJiZ5LmdldFN0YXRlKGUpPT09Zy5QTEFZSU5HJiZyKG8sYik6Y2xlYXJJbnRlcnZhbChuKX0sNTAwKSx0LmludGVydmFsSUQ9bil9LHcub25XYWl0aW5nPWZ1bmN0aW9uKGUpe2kodGhpcyxwLGUpfX0se31dLDE4OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4ocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksby5kZWZhdWx0PXZvaWQgMDt2YXIgbj17ZXhwb3J0VG86ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGk7XCJvYmplY3RcIj09PXIodCkmJlwib2JqZWN0XCI9PT1yKG8pPyhpPXRbZV0pP29bZV09XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmJpbmQodCk6aToob1tlXT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKGUrXCIgaXMgbm90IHN1cHBvcnQhXCIpLHt9fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKCkpOmNvbnNvbGUud2FybihcImludmFsaWQgZXhwb3J0VG86IFwiLGUpfX07by5kZWZhdWx0PW59LHt9XX0se30sWzhdKTsiXSwiZmlsZSI6ImNvY29zLXJ1bnRpbWUuanMifQ==
